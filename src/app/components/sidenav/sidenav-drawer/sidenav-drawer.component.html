<ng-container *ngIf="isAuth$ | async">
  <mat-nav-list>
    <a
      mat-list-item
      (click)="selectInbox()"
      [ngClass]="{ 'font-bold': inboxSelected$ | async }"
    >
      <mat-icon matListIcon>inbox</mat-icon>
      <span class="ml-2">Inbox</span>
    </a>

    <mat-divider></mat-divider>

    <a mat-list-item (click)="toggleProjectList()">
      <mat-icon matListIcon *ngIf="!(projectListOpen$ | async)">
        chevron_right
      </mat-icon>
      <mat-icon matListIcon *ngIf="projectListOpen$ | async">
        expand_more
      </mat-icon>
      <span class="ml-2">Projects</span>
      <span class="flex flex-grow"></span>
      <button
        class="focus:outline-none text-gray-300 hover:text-emerald-800"
        mat-icon-button
        (click)="onProjectAdd($event)"
      >
        <mat-icon> add_circle_outline </mat-icon>
      </button>
    </a>
    <ng-container *ngIf="projectListOpen$ | async">
      <a
        mat-list-item
        *ngFor="let project of customProjects$ | async"
        (click)="selectProject(project)"
        class="group"
      >
        <span
          class="ml-12"
          [ngClass]="{
            'font-bold': (selectedProjectId$ | async) === project.id
          }"
          >{{ project.name }}
        </span>
        <span class="flex flex-grow"></span>
        <button
          class="focus:outline-none text-gray-300 invisible group-hover:visible hover:text-red-800"
          mat-icon-button
          (click)="onProjectDelete($event, project)"
        >
          <mat-icon> remove_circle_outline </mat-icon>
        </button>
      </a>
      <!-- <a mat-list-item (click)="openCreateProjectDialog()">
        <mat-icon matListIcon> add </mat-icon>
        <span class="ml-2">Add Project</span>
      </a> -->
      <!-- TODO: Delete Project button -->
    </ng-container>
  </mat-nav-list>
</ng-container>
